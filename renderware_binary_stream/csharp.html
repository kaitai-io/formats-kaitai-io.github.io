<!DOCTYPE html>
<html dir="ltr" lang="en">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Kaitai Struct: declarative binary format parsing language</title>
  <meta name="keywords" content="kaitai,struct,binary,format,parsing,decoding,java,javascript,python,ruby,library,metadata">
  <meta name="description" content="Kaitai Struct is a formal language for binary format specification that can be compiled into parser code">

  <link rel="stylesheet" href="http://kaitai.io/styles/bootstrap.min.css">
  <link rel="stylesheet" href="http://kaitai.io/styles/bootstrap-theme.min.css">
  <link href='https://fonts.googleapis.com/css?family=Exo:400,700' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Share+Tech+Mono' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

  <link rel="stylesheet" href="http://kaitai.io/styles/main.css" type="text/css">

  <link rel="stylesheet" href="http://kaitai.io/styles/highlight/default.css">
  <style>
.diagram-img {
    display: block;
    max-width: 100%;
    height: auto;
    margin: 0 auto;
}

section.format {
    padding: 30px 0;
}

section#format-meta, section#format-index-header {
    background: #e3eef7;
}

section#format-diagram, section#format-index-footer {
    background: #e9f8dd;
}

section#format-ksy, section#format-lang {
    background: #d1eadd;
}

section#format-index .row {
    padding-bottom: 10px;
}

  </style>
  <script src="http://kaitai.io/js/highlight.pack.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
</head>
<body data-spy="scroll" data-target="#main-navbar" data-offset="100">

    <nav class="navbar navbar-inverse navbar-fixed-top" id="main-navbar">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#main-navbar-collapse" aria-expanded="false">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <span class="navbar-brand">Kaitai Struct</span>
            </div>
            <div class="collapse navbar-collapse" id="main-navbar-collapse">
                <ul class="nav navbar-nav">
                    <li><a href="http://kaitai.io/#what-is-it">What is it?</a></li>
                    <li><a href="http://kaitai.io/#quick-start">Quick Start</a></li>
                    <li><a href="http://kaitai.io/#download">Download</a></li>
                    <li class="active"><a href="http://formats.kaitai.io/">Format Gallery</a></li>
                </ul>
                <ul class="nav navbar-nav navbar-right">
                    <li><a href="http://kaitai.io/repl/index.html">Try it</a></li>
                    <li><a href="https://ide.kaitai.io/">Web IDE</a></li>
                    <li><a href="http://doc.kaitai.io/">Documentation</a></li>
                </ul>
            </div>
        </div>
    </nav>
<nav>
    <div class="container">
    <ol class="breadcrumb">
        <li><a href="../index.html">Format Gallery</a></li>
        <li>Game Data Files</li>
        <li class="active">RenderWare binary stream</li>
    </ol>
    </div>
</nav>

<section id="format-meta" class="format">
    <div class="container">
        <h1>RenderWare binary stream:
            
            C# parsing library
            
        </h1>

        <div class="row">
            <div class="col-md-8">
                <p></p>
            </div>
            <div class="col-md-4">
                <div class="panel panel-info">
                    
                    <div class="panel-heading">
                        <h3 class="panel-title">Application</h3>
                    </div>
                    <div class="panel-body">
                        Games based on RenderWare engine (Grand Theft Auto 3D series)
                    </div>
                    
                    
                    
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-12">
            <p>
            This page hosts a formal specification of RenderWare binary stream
            using <a href="http://kaitai.io">Kaitai Struct</a>. This
            specification can be automatically translated into a
            variety of programming languages to get a parsing library.
            </p>

            <ul class="nav nav-pills">
                
                
                <li>
                
                <a href="index.html" title="RenderWare binary stream parsing Overview library">Overview</a></li>
                
                
                <li>
                
                <a href="cpp_stl.html" title="RenderWare binary stream parsing C++/STL library">C++/STL</a></li>
                
                
                <li class="active">
                
                <a href="csharp.html" title="RenderWare binary stream parsing C# library">C#</a></li>
                
                
                <li>
                
                <a href="graphviz.html" title="RenderWare binary stream parsing GraphViz library">GraphViz</a></li>
                
                
                <li>
                
                <a href="java.html" title="RenderWare binary stream parsing Java library">Java</a></li>
                
                
                <li>
                
                <a href="javascript.html" title="RenderWare binary stream parsing JavaScript library">JavaScript</a></li>
                
                
                <li>
                
                <a href="perl.html" title="RenderWare binary stream parsing Perl library">Perl</a></li>
                
                
                <li>
                
                <a href="php.html" title="RenderWare binary stream parsing PHP library">PHP</a></li>
                
                
                <li>
                
                <a href="python.html" title="RenderWare binary stream parsing Python library">Python</a></li>
                
                
                <li>
                
                <a href="ruby.html" title="RenderWare binary stream parsing Ruby library">Ruby</a></li>
                
            </ul>
            </div>
        </div>
    </div>
</section>

<section id="format-usage" class="format">
    <div class="container">
        <h2>Usage</h2>

        <p>Parse a local file and get structure in memory:</p>



<pre><code class="csharp">var data = RenderwareBinaryStream.FromFile("path/to/local/file.renderware_binary_stream");</code></pre>

<p>Or parse structure from a byte array:</p>

<pre><code class="csharp">byte[] someArray = new byte[] { ... };
var data = new RenderwareBinaryStream(new KaitaiStream(someArray));</code></pre>

<p>After that, one can get various attributes from the structure by accessing properties like:</p>

<pre><code class="csharp">data.Code // => get code</code></pre>

    </div>
</section>


<section id="format-lang" class="format">
    <div class="container">
        <h2>
            
            C# source code to parse RenderWare binary stream
            
        </h2>

        

        <h3>RenderwareBinaryStream.cs</h3>

        <div class="row">
            <div class="pull-right">
                <p>
                    <a href="src/csharp/RenderwareBinaryStream.cs" class="btn btn-success">Download <i class="fa fa-download"></i></a>
                </p>
            </div>
        </div>

        <div class="row">
            <pre><code class="csharp">// This is a generated file! Please edit source .ksy file and use kaitai-struct-compiler to rebuild

using System.Collections.Generic;

namespace Kaitai
{

    /// &lt;remarks&gt;
    /// Reference: &lt;a href=&quot;https://www.gtamodding.com/wiki/RenderWare_binary_stream_file&quot;&gt;Source&lt;/a&gt;
    /// &lt;/remarks&gt;
    public partial class RenderwareBinaryStream : KaitaiStruct
    {
        public static RenderwareBinaryStream FromFile(string fileName)
        {
            return new RenderwareBinaryStream(new KaitaiStream(fileName));
        }

        public enum Sections
        {
            Struct = 1,
            String = 2,
            Extension = 3,
            Camera = 5,
            Texture = 6,
            Material = 7,
            MaterialList = 8,
            AtomicSection = 9,
            PlaneSection = 10,
            World = 11,
            Spline = 12,
            Matrix = 13,
            FrameList = 14,
            Geometry = 15,
            Clump = 16,
            Light = 18,
            UnicodeString = 19,
            Atomic = 20,
            TextureNative = 21,
            TextureDictionary = 22,
            AnimationDatabase = 23,
            Image = 24,
            SkinAnimation = 25,
            GeometryList = 26,
            AnimAnimation = 27,
            Team = 28,
            Crowd = 29,
            DeltaMorphAnimation = 30,
            RightToRender = 31,
            MultitextureEffectNative = 32,
            MultitextureEffectDictionary = 33,
            TeamDictionary = 34,
            PlatformIndependentTextureDictionary = 35,
            TableOfContents = 36,
            ParticleStandardGlobalData = 37,
            Altpipe = 38,
            PlatformIndependentPeds = 39,
            PatchMesh = 40,
            ChunkGroupStart = 41,
            ChunkGroupEnd = 42,
            UvAnimationDictionary = 43,
            CollTree = 44,
            MetricsPlg = 257,
            SplinePlg = 258,
            StereoPlg = 259,
            VrmlPlg = 260,
            MorphPlg = 261,
            PvsPlg = 262,
            MemoryLeakPlg = 263,
            AnimationPlg = 264,
            GlossPlg = 265,
            LogoPlg = 266,
            MemoryInfoPlg = 267,
            RandomPlg = 268,
            PngImagePlg = 269,
            BonePlg = 270,
            VrmlAnimPlg = 271,
            SkyMipmapVal = 272,
            MrmPlg = 273,
            LodAtomicPlg = 274,
            MePlg = 275,
            LightmapPlg = 276,
            RefinePlg = 277,
            SkinPlg = 278,
            LabelPlg = 279,
            ParticlesPlg = 280,
            GeomtxPlg = 281,
            SynthCorePlg = 282,
            StqppPlg = 283,
            PartPpPlg = 284,
            CollisionPlg = 285,
            HanimPlg = 286,
            UserDataPlg = 287,
            MaterialEffectsPlg = 288,
            ParticleSystemPlg = 289,
            DeltaMorphPlg = 290,
            PatchPlg = 291,
            TeamPlg = 292,
            CrowdPpPlg = 293,
            MipSplitPlg = 294,
            AnisotropyPlg = 295,
            GcnMaterialPlg = 297,
            GeometricPvsPlg = 298,
            XboxMaterialPlg = 299,
            MultiTexturePlg = 300,
            ChainPlg = 301,
            ToonPlg = 302,
            PtankPlg = 303,
            ParticleStandardPlg = 304,
            PdsPlg = 305,
            PrtadvPlg = 306,
            NormalMapPlg = 307,
            AdcPlg = 308,
            UvAnimationPlg = 309,
            CharacterSetPlg = 384,
            NohsWorldPlg = 385,
            ImportUtilPlg = 386,
            SlerpPlg = 387,
            OptimPlg = 388,
            TlWorldPlg = 389,
            DatabasePlg = 390,
            RaytracePlg = 391,
            RayPlg = 392,
            LibraryPlg = 393,
            Plg2d = 400,
            TileRenderPlg = 401,
            JpegImagePlg = 402,
            TgaImagePlg = 403,
            GifImagePlg = 404,
            QuatPlg = 405,
            SplinePvsPlg = 406,
            MipmapPlg = 407,
            MipmapkPlg = 408,
            Font2d = 409,
            IntersectionPlg = 410,
            TiffImagePlg = 411,
            PickPlg = 412,
            BmpImagePlg = 413,
            RasImagePlg = 414,
            SkinFxPlg = 415,
            VcatPlg = 416,
            Path2d = 417,
            Brush2d = 418,
            Object2d = 419,
            Shape2d = 420,
            Scene2d = 421,
            PickRegion2d = 422,
            ObjectString2d = 423,
            AnimationPlg2d = 424,
            Animation2d = 425,
            Keyframe2d = 432,
            Maestro2d = 433,
            Barycentric = 434,
            PlatformIndependentTextureDictionaryTk = 435,
            TocTk = 436,
            TplTk = 437,
            AltpipeTk = 438,
            AnimationTk = 439,
            SkinSplitTookit = 440,
            CompressedKeyTk = 441,
            GeometryConditioningPlg = 442,
            WingPlg = 443,
            GenericPipelineTk = 444,
            LightmapConversionTk = 445,
            FilesystemPlg = 446,
            DictionaryTk = 447,
            UvAnimationLinear = 448,
            UvAnimationParameter = 449,
            BinMeshPlg = 1294,
            NativeDataPlg = 1296,
            ZmodelerLock = 61982,
            AtomicVisibilityDistance = 39055872,
            ClumpVisibilityDistance = 39055873,
            FrameVisibilityDistance = 39055874,
            PipelineSet = 39056115,
            Unused5 = 39056116,
            TexdictionaryLink = 39056117,
            SpecularMaterial = 39056118,
            Unused8 = 39056119,
            Effect2d = 39056120,
            ExtraVertColour = 39056121,
            CollisionModel = 39056122,
            GtaHanim = 39056123,
            ReflectionMaterial = 39056124,
            Breakable = 39056125,
            Frame = 39056126,
            Unused16 = 39056127,
        }

        public RenderwareBinaryStream(KaitaiStream io, KaitaiStruct parent = null, RenderwareBinaryStream root = null) : base(io)
        {
            m_parent = parent;
            m_root = root ?? this;
            _read();
        }
        private void _read() {
            _code = ((Sections) m_io.ReadU4le());
            _size = m_io.ReadU4le();
            _version = m_io.ReadU4le();
            switch (Code) {
            case Sections.TextureDictionary: {
                __raw_body = m_io.ReadBytes(Size);
                var io___raw_body = new KaitaiStream(__raw_body);
                _body = new ListWithHeader(io___raw_body, this, m_root);
                break;
            }
            case Sections.GeometryList: {
                __raw_body = m_io.ReadBytes(Size);
                var io___raw_body = new KaitaiStream(__raw_body);
                _body = new ListWithHeader(io___raw_body, this, m_root);
                break;
            }
            case Sections.Clump: {
                __raw_body = m_io.ReadBytes(Size);
                var io___raw_body = new KaitaiStream(__raw_body);
                _body = new ListWithHeader(io___raw_body, this, m_root);
                break;
            }
            case Sections.TextureNative: {
                __raw_body = m_io.ReadBytes(Size);
                var io___raw_body = new KaitaiStream(__raw_body);
                _body = new ListWithHeader(io___raw_body, this, m_root);
                break;
            }
            case Sections.FrameList: {
                __raw_body = m_io.ReadBytes(Size);
                var io___raw_body = new KaitaiStream(__raw_body);
                _body = new ListWithHeader(io___raw_body, this, m_root);
                break;
            }
            case Sections.Geometry: {
                __raw_body = m_io.ReadBytes(Size);
                var io___raw_body = new KaitaiStream(__raw_body);
                _body = new ListWithHeader(io___raw_body, this, m_root);
                break;
            }
            default: {
                _body = m_io.ReadBytes(Size);
                break;
            }
            }
            }

        /// &lt;remarks&gt;
        /// Reference: &lt;a href=&quot;https://www.gtamodding.com/wiki/RpClump&quot;&gt;Source&lt;/a&gt;
        /// &lt;/remarks&gt;
        public partial class StructClump : KaitaiStruct
        {
            public static StructClump FromFile(string fileName)
            {
                return new StructClump(new KaitaiStream(fileName));
            }

            public StructClump(KaitaiStream io, RenderwareBinaryStream.ListWithHeader parent = null, RenderwareBinaryStream root = null) : base(io)
            {
                m_parent = parent;
                m_root = root;
                _read();
            }
            private void _read() {
                _numAtomics = m_io.ReadU4le();
                if (M_Parent.Version &gt;= 208896) {
                    _numLights = m_io.ReadU4le();
                }
                if (M_Parent.Version &gt;= 208896) {
                    _numCameras = m_io.ReadU4le();
                }
                }
            private uint _numAtomics;
            private uint _numLights;
            private uint _numCameras;
            private RenderwareBinaryStream m_root;
            private RenderwareBinaryStream.ListWithHeader m_parent;
            public uint NumAtomics { get { return _numAtomics; } }
            public uint NumLights { get { return _numLights; } }
            public uint NumCameras { get { return _numCameras; } }
            public RenderwareBinaryStream M_Root { get { return m_root; } }
            public RenderwareBinaryStream.ListWithHeader M_Parent { get { return m_parent; } }
        }

        /// &lt;remarks&gt;
        /// Reference: &lt;a href=&quot;https://www.gtamodding.com/wiki/RpGeometry&quot;&gt;Source&lt;/a&gt;
        /// &lt;/remarks&gt;
        public partial class StructGeometry : KaitaiStruct
        {
            public static StructGeometry FromFile(string fileName)
            {
                return new StructGeometry(new KaitaiStream(fileName));
            }

            public StructGeometry(KaitaiStream io, RenderwareBinaryStream.ListWithHeader parent = null, RenderwareBinaryStream root = null) : base(io)
            {
                m_parent = parent;
                m_root = root;
                f_isTextured = false;
                f_isPrelit = false;
                f_isTextured2 = false;
                f_isNative = false;
                _read();
            }
            private void _read() {
                _format = m_io.ReadU4le();
                _numTriangles = m_io.ReadU4le();
                _numVertices = m_io.ReadU4le();
                _numMorphTargets = m_io.ReadU4le();
                if (M_Parent.Version &lt; 212992) {
                    _surfProp = new SurfaceProperties(m_io, this, m_root);
                }
                if (!(IsNative)) {
                    _geometry = new GeometryNonNative(m_io, this, m_root);
                }
                _morphTargets = new List&lt;MorphTarget&gt;((int) (NumMorphTargets));
                for (var i = 0; i &lt; NumMorphTargets; i++) {
                    _morphTargets.Add(new MorphTarget(m_io, this, m_root));
                }
                }
            private bool f_isTextured;
            private bool _isTextured;
            public bool IsTextured
            {
                get
                {
                    if (f_isTextured)
                        return _isTextured;
                    _isTextured = (bool) ((Format &amp; 4) != 0);
                    f_isTextured = true;
                    return _isTextured;
                }
            }
            private bool f_isPrelit;
            private bool _isPrelit;
            public bool IsPrelit
            {
                get
                {
                    if (f_isPrelit)
                        return _isPrelit;
                    _isPrelit = (bool) ((Format &amp; 8) != 0);
                    f_isPrelit = true;
                    return _isPrelit;
                }
            }
            private bool f_isTextured2;
            private bool _isTextured2;
            public bool IsTextured2
            {
                get
                {
                    if (f_isTextured2)
                        return _isTextured2;
                    _isTextured2 = (bool) ((Format &amp; 128) != 0);
                    f_isTextured2 = true;
                    return _isTextured2;
                }
            }
            private bool f_isNative;
            private bool _isNative;
            public bool IsNative
            {
                get
                {
                    if (f_isNative)
                        return _isNative;
                    _isNative = (bool) ((Format &amp; 16777216) != 0);
                    f_isNative = true;
                    return _isNative;
                }
            }
            private uint _format;
            private uint _numTriangles;
            private uint _numVertices;
            private uint _numMorphTargets;
            private SurfaceProperties _surfProp;
            private GeometryNonNative _geometry;
            private List&lt;MorphTarget&gt; _morphTargets;
            private RenderwareBinaryStream m_root;
            private RenderwareBinaryStream.ListWithHeader m_parent;
            public uint Format { get { return _format; } }
            public uint NumTriangles { get { return _numTriangles; } }
            public uint NumVertices { get { return _numVertices; } }
            public uint NumMorphTargets { get { return _numMorphTargets; } }
            public SurfaceProperties SurfProp { get { return _surfProp; } }
            public GeometryNonNative Geometry { get { return _geometry; } }
            public List&lt;MorphTarget&gt; MorphTargets { get { return _morphTargets; } }
            public RenderwareBinaryStream M_Root { get { return m_root; } }
            public RenderwareBinaryStream.ListWithHeader M_Parent { get { return m_parent; } }
        }
        public partial class GeometryNonNative : KaitaiStruct
        {
            public static GeometryNonNative FromFile(string fileName)
            {
                return new GeometryNonNative(new KaitaiStream(fileName));
            }

            public GeometryNonNative(KaitaiStream io, RenderwareBinaryStream.StructGeometry parent = null, RenderwareBinaryStream root = null) : base(io)
            {
                m_parent = parent;
                m_root = root;
                _read();
            }
            private void _read() {
                if (M_Parent.IsPrelit) {
                    _prelitColors = new List&lt;Rgba&gt;((int) (M_Parent.NumVertices));
                    for (var i = 0; i &lt; M_Parent.NumVertices; i++) {
                        _prelitColors.Add(new Rgba(m_io, this, m_root));
                    }
                }
                if ( ((M_Parent.IsTextured) || (M_Parent.IsTextured2)) ) {
                    _texCoords = new List&lt;TexCoord&gt;((int) (M_Parent.NumVertices));
                    for (var i = 0; i &lt; M_Parent.NumVertices; i++) {
                        _texCoords.Add(new TexCoord(m_io, this, m_root));
                    }
                }
                _triangles = new List&lt;Triangle&gt;((int) (M_Parent.NumTriangles));
                for (var i = 0; i &lt; M_Parent.NumTriangles; i++) {
                    _triangles.Add(new Triangle(m_io, this, m_root));
                }
                }
            private List&lt;Rgba&gt; _prelitColors;
            private List&lt;TexCoord&gt; _texCoords;
            private List&lt;Triangle&gt; _triangles;
            private RenderwareBinaryStream m_root;
            private RenderwareBinaryStream.StructGeometry m_parent;
            public List&lt;Rgba&gt; PrelitColors { get { return _prelitColors; } }
            public List&lt;TexCoord&gt; TexCoords { get { return _texCoords; } }
            public List&lt;Triangle&gt; Triangles { get { return _triangles; } }
            public RenderwareBinaryStream M_Root { get { return m_root; } }
            public RenderwareBinaryStream.StructGeometry M_Parent { get { return m_parent; } }
        }

        /// &lt;remarks&gt;
        /// Reference: &lt;a href=&quot;https://www.gtamodding.com/wiki/Geometry_List_(RW_Section)#Structure&quot;&gt;Source&lt;/a&gt;
        /// &lt;/remarks&gt;
        public partial class StructGeometryList : KaitaiStruct
        {
            public static StructGeometryList FromFile(string fileName)
            {
                return new StructGeometryList(new KaitaiStream(fileName));
            }

            public StructGeometryList(KaitaiStream io, RenderwareBinaryStream.ListWithHeader parent = null, RenderwareBinaryStream root = null) : base(io)
            {
                m_parent = parent;
                m_root = root;
                _read();
            }
            private void _read() {
                _numGeometries = m_io.ReadU4le();
                }
            private uint _numGeometries;
            private RenderwareBinaryStream m_root;
            private RenderwareBinaryStream.ListWithHeader m_parent;
            public uint NumGeometries { get { return _numGeometries; } }
            public RenderwareBinaryStream M_Root { get { return m_root; } }
            public RenderwareBinaryStream.ListWithHeader M_Parent { get { return m_parent; } }
        }
        public partial class Rgba : KaitaiStruct
        {
            public static Rgba FromFile(string fileName)
            {
                return new Rgba(new KaitaiStream(fileName));
            }

            public Rgba(KaitaiStream io, RenderwareBinaryStream.GeometryNonNative parent = null, RenderwareBinaryStream root = null) : base(io)
            {
                m_parent = parent;
                m_root = root;
                _read();
            }
            private void _read() {
                _r = m_io.ReadU1();
                _g = m_io.ReadU1();
                _b = m_io.ReadU1();
                _a = m_io.ReadU1();
                }
            private byte _r;
            private byte _g;
            private byte _b;
            private byte _a;
            private RenderwareBinaryStream m_root;
            private RenderwareBinaryStream.GeometryNonNative m_parent;
            public byte R { get { return _r; } }
            public byte G { get { return _g; } }
            public byte B { get { return _b; } }
            public byte A { get { return _a; } }
            public RenderwareBinaryStream M_Root { get { return m_root; } }
            public RenderwareBinaryStream.GeometryNonNative M_Parent { get { return m_parent; } }
        }
        public partial class Sphere : KaitaiStruct
        {
            public static Sphere FromFile(string fileName)
            {
                return new Sphere(new KaitaiStream(fileName));
            }

            public Sphere(KaitaiStream io, RenderwareBinaryStream.MorphTarget parent = null, RenderwareBinaryStream root = null) : base(io)
            {
                m_parent = parent;
                m_root = root;
                _read();
            }
            private void _read() {
                _x = m_io.ReadF4le();
                _y = m_io.ReadF4le();
                _z = m_io.ReadF4le();
                _radius = m_io.ReadF4le();
                }
            private float _x;
            private float _y;
            private float _z;
            private float _radius;
            private RenderwareBinaryStream m_root;
            private RenderwareBinaryStream.MorphTarget m_parent;
            public float X { get { return _x; } }
            public float Y { get { return _y; } }
            public float Z { get { return _z; } }
            public float Radius { get { return _radius; } }
            public RenderwareBinaryStream M_Root { get { return m_root; } }
            public RenderwareBinaryStream.MorphTarget M_Parent { get { return m_parent; } }
        }
        public partial class MorphTarget : KaitaiStruct
        {
            public static MorphTarget FromFile(string fileName)
            {
                return new MorphTarget(new KaitaiStream(fileName));
            }

            public MorphTarget(KaitaiStream io, RenderwareBinaryStream.StructGeometry parent = null, RenderwareBinaryStream root = null) : base(io)
            {
                m_parent = parent;
                m_root = root;
                _read();
            }
            private void _read() {
                _boundingSphere = new Sphere(m_io, this, m_root);
                _hasVertices = m_io.ReadU4le();
                _hasNormals = m_io.ReadU4le();
                if (HasVertices != 0) {
                    _vertices = new List&lt;Vector3d&gt;((int) (M_Parent.NumVertices));
                    for (var i = 0; i &lt; M_Parent.NumVertices; i++) {
                        _vertices.Add(new Vector3d(m_io, this, m_root));
                    }
                }
                if (HasNormals != 0) {
                    _normals = new List&lt;Vector3d&gt;((int) (M_Parent.NumVertices));
                    for (var i = 0; i &lt; M_Parent.NumVertices; i++) {
                        _normals.Add(new Vector3d(m_io, this, m_root));
                    }
                }
                }
            private Sphere _boundingSphere;
            private uint _hasVertices;
            private uint _hasNormals;
            private List&lt;Vector3d&gt; _vertices;
            private List&lt;Vector3d&gt; _normals;
            private RenderwareBinaryStream m_root;
            private RenderwareBinaryStream.StructGeometry m_parent;
            public Sphere BoundingSphere { get { return _boundingSphere; } }
            public uint HasVertices { get { return _hasVertices; } }
            public uint HasNormals { get { return _hasNormals; } }
            public List&lt;Vector3d&gt; Vertices { get { return _vertices; } }
            public List&lt;Vector3d&gt; Normals { get { return _normals; } }
            public RenderwareBinaryStream M_Root { get { return m_root; } }
            public RenderwareBinaryStream.StructGeometry M_Parent { get { return m_parent; } }
        }

        /// &lt;remarks&gt;
        /// Reference: &lt;a href=&quot;https://www.gtamodding.com/wiki/RpGeometry&quot;&gt;Source&lt;/a&gt;
        /// &lt;/remarks&gt;
        public partial class SurfaceProperties : KaitaiStruct
        {
            public static SurfaceProperties FromFile(string fileName)
            {
                return new SurfaceProperties(new KaitaiStream(fileName));
            }

            public SurfaceProperties(KaitaiStream io, RenderwareBinaryStream.StructGeometry parent = null, RenderwareBinaryStream root = null) : base(io)
            {
                m_parent = parent;
                m_root = root;
                _read();
            }
            private void _read() {
                _ambient = m_io.ReadF4le();
                _specular = m_io.ReadF4le();
                _diffuse = m_io.ReadF4le();
                }
            private float _ambient;
            private float _specular;
            private float _diffuse;
            private RenderwareBinaryStream m_root;
            private RenderwareBinaryStream.StructGeometry m_parent;
            public float Ambient { get { return _ambient; } }
            public float Specular { get { return _specular; } }
            public float Diffuse { get { return _diffuse; } }
            public RenderwareBinaryStream M_Root { get { return m_root; } }
            public RenderwareBinaryStream.StructGeometry M_Parent { get { return m_parent; } }
        }

        /// &lt;remarks&gt;
        /// Reference: &lt;a href=&quot;https://www.gtamodding.com/wiki/Frame_List_(RW_Section)#Structure&quot;&gt;Source&lt;/a&gt;
        /// &lt;/remarks&gt;
        public partial class StructFrameList : KaitaiStruct
        {
            public static StructFrameList FromFile(string fileName)
            {
                return new StructFrameList(new KaitaiStream(fileName));
            }

            public StructFrameList(KaitaiStream io, RenderwareBinaryStream.ListWithHeader parent = null, RenderwareBinaryStream root = null) : base(io)
            {
                m_parent = parent;
                m_root = root;
                _read();
            }
            private void _read() {
                _numFrames = m_io.ReadU4le();
                _frames = new List&lt;Frame&gt;((int) (NumFrames));
                for (var i = 0; i &lt; NumFrames; i++) {
                    _frames.Add(new Frame(m_io, this, m_root));
                }
                }
            private uint _numFrames;
            private List&lt;Frame&gt; _frames;
            private RenderwareBinaryStream m_root;
            private RenderwareBinaryStream.ListWithHeader m_parent;
            public uint NumFrames { get { return _numFrames; } }
            public List&lt;Frame&gt; Frames { get { return _frames; } }
            public RenderwareBinaryStream M_Root { get { return m_root; } }
            public RenderwareBinaryStream.ListWithHeader M_Parent { get { return m_parent; } }
        }

        /// &lt;remarks&gt;
        /// Reference: &lt;a href=&quot;https://www.gtamodding.com/wiki/Frame_List_(RW_Section)#Structure&quot;&gt;Source&lt;/a&gt;
        /// &lt;/remarks&gt;
        public partial class Matrix : KaitaiStruct
        {
            public static Matrix FromFile(string fileName)
            {
                return new Matrix(new KaitaiStream(fileName));
            }

            public Matrix(KaitaiStream io, RenderwareBinaryStream.Frame parent = null, RenderwareBinaryStream root = null) : base(io)
            {
                m_parent = parent;
                m_root = root;
                _read();
            }
            private void _read() {
                _entries = new List&lt;Vector3d&gt;((int) (3));
                for (var i = 0; i &lt; 3; i++) {
                    _entries.Add(new Vector3d(m_io, this, m_root));
                }
                }
            private List&lt;Vector3d&gt; _entries;
            private RenderwareBinaryStream m_root;
            private RenderwareBinaryStream.Frame m_parent;
            public List&lt;Vector3d&gt; Entries { get { return _entries; } }
            public RenderwareBinaryStream M_Root { get { return m_root; } }
            public RenderwareBinaryStream.Frame M_Parent { get { return m_parent; } }
        }

        /// &lt;remarks&gt;
        /// Reference: &lt;a href=&quot;https://www.gtamodding.com/wiki/Frame_List_(RW_Section)#Structure&quot;&gt;Source&lt;/a&gt;
        /// &lt;/remarks&gt;
        public partial class Vector3d : KaitaiStruct
        {
            public static Vector3d FromFile(string fileName)
            {
                return new Vector3d(new KaitaiStream(fileName));
            }

            public Vector3d(KaitaiStream io, KaitaiStruct parent = null, RenderwareBinaryStream root = null) : base(io)
            {
                m_parent = parent;
                m_root = root;
                _read();
            }
            private void _read() {
                _x = m_io.ReadF4le();
                _y = m_io.ReadF4le();
                _z = m_io.ReadF4le();
                }
            private float _x;
            private float _y;
            private float _z;
            private RenderwareBinaryStream m_root;
            private KaitaiStruct m_parent;
            public float X { get { return _x; } }
            public float Y { get { return _y; } }
            public float Z { get { return _z; } }
            public RenderwareBinaryStream M_Root { get { return m_root; } }
            public KaitaiStruct M_Parent { get { return m_parent; } }
        }

        /// &lt;summary&gt;
        /// Typical structure used by many data types in RenderWare binary
        /// stream. Substream contains a list of binary stream entries,
        /// first entry always has type &amp;quot;struct&amp;quot; and carries some specific
        /// binary data it in, determined by the type of parent. All other
        /// entries, beside the first one, are normal, self-describing
        /// records.
        /// &lt;/summary&gt;
        public partial class ListWithHeader : KaitaiStruct
        {
            public static ListWithHeader FromFile(string fileName)
            {
                return new ListWithHeader(new KaitaiStream(fileName));
            }

            public ListWithHeader(KaitaiStream io, RenderwareBinaryStream parent = null, RenderwareBinaryStream root = null) : base(io)
            {
                m_parent = parent;
                m_root = root;
                _read();
            }
            private void _read() {
                _code = m_io.EnsureFixedContents(new byte[] { 1, 0, 0, 0 });
                _headerSize = m_io.ReadU4le();
                _version = m_io.ReadU4le();
                switch (M_Parent.Code) {
                case RenderwareBinaryStream.Sections.TextureDictionary: {
                    __raw_header = m_io.ReadBytes(HeaderSize);
                    var io___raw_header = new KaitaiStream(__raw_header);
                    _header = new StructTextureDictionary(io___raw_header, this, m_root);
                    break;
                }
                case RenderwareBinaryStream.Sections.GeometryList: {
                    __raw_header = m_io.ReadBytes(HeaderSize);
                    var io___raw_header = new KaitaiStream(__raw_header);
                    _header = new StructGeometryList(io___raw_header, this, m_root);
                    break;
                }
                case RenderwareBinaryStream.Sections.Clump: {
                    __raw_header = m_io.ReadBytes(HeaderSize);
                    var io___raw_header = new KaitaiStream(__raw_header);
                    _header = new StructClump(io___raw_header, this, m_root);
                    break;
                }
                case RenderwareBinaryStream.Sections.FrameList: {
                    __raw_header = m_io.ReadBytes(HeaderSize);
                    var io___raw_header = new KaitaiStream(__raw_header);
                    _header = new StructFrameList(io___raw_header, this, m_root);
                    break;
                }
                case RenderwareBinaryStream.Sections.Geometry: {
                    __raw_header = m_io.ReadBytes(HeaderSize);
                    var io___raw_header = new KaitaiStream(__raw_header);
                    _header = new StructGeometry(io___raw_header, this, m_root);
                    break;
                }
                default: {
                    _header = m_io.ReadBytes(HeaderSize);
                    break;
                }
                }
                _entries = new List&lt;RenderwareBinaryStream&gt;();
                while (!m_io.IsEof) {
                    _entries.Add(new RenderwareBinaryStream(m_io));
                }
                }
            private byte[] _code;
            private uint _headerSize;
            private uint _version;
            private object _header;
            private List&lt;RenderwareBinaryStream&gt; _entries;
            private RenderwareBinaryStream m_root;
            private RenderwareBinaryStream m_parent;
            private byte[] __raw_header;
            public byte[] Code { get { return _code; } }
            public uint HeaderSize { get { return _headerSize; } }
            public uint Version { get { return _version; } }
            public object Header { get { return _header; } }
            public List&lt;RenderwareBinaryStream&gt; Entries { get { return _entries; } }
            public RenderwareBinaryStream M_Root { get { return m_root; } }
            public RenderwareBinaryStream M_Parent { get { return m_parent; } }
            public byte[] M_RawHeader { get { return __raw_header; } }
        }
        public partial class Triangle : KaitaiStruct
        {
            public static Triangle FromFile(string fileName)
            {
                return new Triangle(new KaitaiStream(fileName));
            }

            public Triangle(KaitaiStream io, RenderwareBinaryStream.GeometryNonNative parent = null, RenderwareBinaryStream root = null) : base(io)
            {
                m_parent = parent;
                m_root = root;
                _read();
            }
            private void _read() {
                _vertex2 = m_io.ReadU2le();
                _vertex1 = m_io.ReadU2le();
                _materialId = m_io.ReadU2le();
                _vertex3 = m_io.ReadU2le();
                }
            private ushort _vertex2;
            private ushort _vertex1;
            private ushort _materialId;
            private ushort _vertex3;
            private RenderwareBinaryStream m_root;
            private RenderwareBinaryStream.GeometryNonNative m_parent;
            public ushort Vertex2 { get { return _vertex2; } }
            public ushort Vertex1 { get { return _vertex1; } }
            public ushort MaterialId { get { return _materialId; } }
            public ushort Vertex3 { get { return _vertex3; } }
            public RenderwareBinaryStream M_Root { get { return m_root; } }
            public RenderwareBinaryStream.GeometryNonNative M_Parent { get { return m_parent; } }
        }

        /// &lt;remarks&gt;
        /// Reference: &lt;a href=&quot;https://www.gtamodding.com/wiki/Frame_List_(RW_Section)#Structure&quot;&gt;Source&lt;/a&gt;
        /// &lt;/remarks&gt;
        public partial class Frame : KaitaiStruct
        {
            public static Frame FromFile(string fileName)
            {
                return new Frame(new KaitaiStream(fileName));
            }

            public Frame(KaitaiStream io, RenderwareBinaryStream.StructFrameList parent = null, RenderwareBinaryStream root = null) : base(io)
            {
                m_parent = parent;
                m_root = root;
                _read();
            }
            private void _read() {
                _rotationMatrix = new Matrix(m_io, this, m_root);
                _position = new Vector3d(m_io, this, m_root);
                _curFrameIdx = m_io.ReadS4le();
                _matrixCreationFlags = m_io.ReadU4le();
                }
            private Matrix _rotationMatrix;
            private Vector3d _position;
            private int _curFrameIdx;
            private uint _matrixCreationFlags;
            private RenderwareBinaryStream m_root;
            private RenderwareBinaryStream.StructFrameList m_parent;
            public Matrix RotationMatrix { get { return _rotationMatrix; } }
            public Vector3d Position { get { return _position; } }
            public int CurFrameIdx { get { return _curFrameIdx; } }
            public uint MatrixCreationFlags { get { return _matrixCreationFlags; } }
            public RenderwareBinaryStream M_Root { get { return m_root; } }
            public RenderwareBinaryStream.StructFrameList M_Parent { get { return m_parent; } }
        }
        public partial class TexCoord : KaitaiStruct
        {
            public static TexCoord FromFile(string fileName)
            {
                return new TexCoord(new KaitaiStream(fileName));
            }

            public TexCoord(KaitaiStream io, RenderwareBinaryStream.GeometryNonNative parent = null, RenderwareBinaryStream root = null) : base(io)
            {
                m_parent = parent;
                m_root = root;
                _read();
            }
            private void _read() {
                _u = m_io.ReadF4le();
                _v = m_io.ReadF4le();
                }
            private float _u;
            private float _v;
            private RenderwareBinaryStream m_root;
            private RenderwareBinaryStream.GeometryNonNative m_parent;
            public float U { get { return _u; } }
            public float V { get { return _v; } }
            public RenderwareBinaryStream M_Root { get { return m_root; } }
            public RenderwareBinaryStream.GeometryNonNative M_Parent { get { return m_parent; } }
        }
        public partial class StructTextureDictionary : KaitaiStruct
        {
            public static StructTextureDictionary FromFile(string fileName)
            {
                return new StructTextureDictionary(new KaitaiStream(fileName));
            }

            public StructTextureDictionary(KaitaiStream io, RenderwareBinaryStream.ListWithHeader parent = null, RenderwareBinaryStream root = null) : base(io)
            {
                m_parent = parent;
                m_root = root;
                _read();
            }
            private void _read() {
                _numTextures = m_io.ReadU4le();
                }
            private uint _numTextures;
            private RenderwareBinaryStream m_root;
            private RenderwareBinaryStream.ListWithHeader m_parent;
            public uint NumTextures { get { return _numTextures; } }
            public RenderwareBinaryStream M_Root { get { return m_root; } }
            public RenderwareBinaryStream.ListWithHeader M_Parent { get { return m_parent; } }
        }
        private Sections _code;
        private uint _size;
        private uint _version;
        private object _body;
        private RenderwareBinaryStream m_root;
        private KaitaiStruct m_parent;
        private byte[] __raw_body;
        public Sections Code { get { return _code; } }
        public uint Size { get { return _size; } }
        public uint Version { get { return _version; } }
        public object Body { get { return _body; } }
        public RenderwareBinaryStream M_Root { get { return m_root; } }
        public KaitaiStruct M_Parent { get { return m_parent; } }
        public byte[] M_RawBody { get { return __raw_body; } }
    }
}
</code></pre>
            
        </div>
        
    </div>
</section>

    <footer id="main-footer">
        <div class="container">
            &copy; 2015-2017 Kaitai Project and <a href="https://github.com/kaitai-io/kaitai_struct_formats/graphs/contributors">formats repo contributors</a>

            <h3>Contacts</h3>

            <div class="row">
                <div class="col-sm-4">
                    <i class="fa fa-fw fa-2x fa-github"></i> <a href="https://github.com/kaitai-io/kaitai_struct">GitHub</a>
                </div>
                <div class="col-sm-4">
                    <i class="fa fa-fw fa-2x fa-twitter"></i> <a href="https://twitter.com/kaitai_io">@kaitai_io</a>
                </div>
                <div class="col-sm-4">
                    Gitter: <a href="https://gitter.im/kaitai_struct/Lobby">kaitai_struct</a>
                </div>
            </div>
        </div>
    </footer>

  <script src="http://kaitai.io/js/jquery-1.12.3.min.js"></script>
  <script src="http://kaitai.io/js/bootstrap.min.js"></script>

  <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-76299550-1', 'auto');
      ga('send', 'pageview');
  </script>
</body>
</html>
