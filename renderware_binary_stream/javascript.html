<!DOCTYPE html>
<html dir="ltr" lang="en">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>RenderWare binary stream: JavaScript parsing library</title>
  <meta name="keywords" content="kaitai,struct,binary,format,parsing,decoding,java,javascript,python,ruby,library,metadata">
  <meta name="description" content="Kaitai Struct is a formal language for binary format specification that can be compiled into parser code">

  <link rel="stylesheet" href="http://kaitai.io/styles/bootstrap.min.css">
  <link rel="stylesheet" href="http://kaitai.io/styles/bootstrap-theme.min.css">
  <link href='https://fonts.googleapis.com/css?family=Exo:400,700' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Share+Tech+Mono' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

  <link rel="stylesheet" href="http://kaitai.io/styles/main.css" type="text/css">

  <link rel="stylesheet" href="http://kaitai.io/styles/highlight/default.css">
  <style>
.diagram-img {
    display: block;
    max-width: 100%;
    height: auto;
    margin: 0 auto;
}

section.format {
    padding: 30px 0;
}

section#format-meta, section#format-index-header {
    background: #e3eef7;
}

section#format-diagram, section#format-index-footer {
    background: #e9f8dd;
}

section#format-ksy, section#format-lang {
    background: #d1eadd;
}

section#format-index .row {
    padding-bottom: 10px;
}

  </style>
  <script src="http://kaitai.io/js/highlight.pack.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
</head>
<body data-spy="scroll" data-target="#main-navbar" data-offset="100">

    <nav class="navbar navbar-inverse navbar-fixed-top" id="main-navbar">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#main-navbar-collapse" aria-expanded="false">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <span class="navbar-brand">Kaitai Struct</span>
            </div>
            <div class="collapse navbar-collapse" id="main-navbar-collapse">
                <ul class="nav navbar-nav">
                    <li><a href="http://kaitai.io/#what-is-it">What is it?</a></li>
                    <li><a href="http://kaitai.io/#quick-start">Quick Start</a></li>
                    <li><a href="http://kaitai.io/#download">Download</a></li>
                    <li class="active"><a href="http://formats.kaitai.io/">Format Gallery</a></li>
                </ul>
                <ul class="nav navbar-nav navbar-right">
                    <li><a href="http://kaitai.io/repl/index.html">Try it</a></li>
                    <li><a href="https://ide.kaitai.io/">Web IDE</a></li>
                    <li><a href="http://doc.kaitai.io/">Documentation</a></li>
                </ul>
            </div>
        </div>
    </nav>
<nav>
    <div class="container">
    <ol class="breadcrumb">
        <li><a href="../index.html">Format Gallery</a></li>
        <li>Game Data Files</li>
        <li class="active">RenderWare binary stream</li>
    </ol>
    </div>
</nav>

<section id="format-meta" class="format">
    <div class="container">
        <h1>RenderWare binary stream:
            
            JavaScript parsing library
            
        </h1>

        <div class="row">
            <div class="col-md-8">
                <p></p>
            </div>
            <div class="col-md-4">
                <div class="panel panel-info">
                    
                    <div class="panel-heading">
                        <h3 class="panel-title">Application</h3>
                    </div>
                    <div class="panel-body">
                        Games based on RenderWare engine (Grand Theft Auto 3D series)
                    </div>
                    
                    
                    
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-12">
            <p>
            This page hosts a formal specification of RenderWare binary stream
            using <a href="http://kaitai.io">Kaitai Struct</a>. This
            specification can be automatically translated into a
            variety of programming languages to get a parsing library.
            </p>

            <ul class="nav nav-pills">
                
                
                <li>
                
                <a href="index.html" title="RenderWare binary stream parsing Overview library">Overview</a></li>
                
                
                <li>
                
                <a href="cpp_stl.html" title="RenderWare binary stream parsing C++/STL library">C++/STL</a></li>
                
                
                <li>
                
                <a href="csharp.html" title="RenderWare binary stream parsing C# library">C#</a></li>
                
                
                <li>
                
                <a href="graphviz.html" title="RenderWare binary stream parsing GraphViz library">GraphViz</a></li>
                
                
                <li>
                
                <a href="java.html" title="RenderWare binary stream parsing Java library">Java</a></li>
                
                
                <li class="active">
                
                <a href="javascript.html" title="RenderWare binary stream parsing JavaScript library">JavaScript</a></li>
                
                
                <li>
                
                <a href="perl.html" title="RenderWare binary stream parsing Perl library">Perl</a></li>
                
                
                <li>
                
                <a href="php.html" title="RenderWare binary stream parsing PHP library">PHP</a></li>
                
                
                <li>
                
                <a href="python.html" title="RenderWare binary stream parsing Python library">Python</a></li>
                
                
                <li>
                
                <a href="ruby.html" title="RenderWare binary stream parsing Ruby library">Ruby</a></li>
                
            </ul>
            </div>
        </div>
    </div>
</section>


<section id="format-lang" class="format">
    <div class="container">
        <h2>
            
            JavaScript source code to parse RenderWare binary stream
            
        </h2>

        

        <h3>RenderwareBinaryStream.js</h3>

        <div class="row">
            <div class="pull-right">
                <p>
                    <a href="src/javascript/RenderwareBinaryStream.js" class="btn btn-success">Download <i class="fa fa-download"></i></a>
                </p>
            </div>
        </div>

        <div class="row">
            <pre><code class="javascript">// This is a generated file! Please edit source .ksy file and use kaitai-struct-compiler to rebuild

/**
 * @see {@link https://www.gtamodding.com/wiki/RenderWare_binary_stream_file|Source}
 */

var RenderwareBinaryStream = (function() {
  RenderwareBinaryStream.Sections = Object.freeze({
    STRUCT: 1,
    STRING: 2,
    EXTENSION: 3,
    CAMERA: 5,
    TEXTURE: 6,
    MATERIAL: 7,
    MATERIAL_LIST: 8,
    ATOMIC_SECTION: 9,
    PLANE_SECTION: 10,
    WORLD: 11,
    SPLINE: 12,
    MATRIX: 13,
    FRAME_LIST: 14,
    GEOMETRY: 15,
    CLUMP: 16,
    LIGHT: 18,
    UNICODE_STRING: 19,
    ATOMIC: 20,
    TEXTURE_NATIVE: 21,
    TEXTURE_DICTIONARY: 22,
    ANIMATION_DATABASE: 23,
    IMAGE: 24,
    SKIN_ANIMATION: 25,
    GEOMETRY_LIST: 26,
    ANIM_ANIMATION: 27,
    TEAM: 28,
    CROWD: 29,
    DELTA_MORPH_ANIMATION: 30,
    RIGHT_TO_RENDER: 31,
    MULTITEXTURE_EFFECT_NATIVE: 32,
    MULTITEXTURE_EFFECT_DICTIONARY: 33,
    TEAM_DICTIONARY: 34,
    PLATFORM_INDEPENDENT_TEXTURE_DICTIONARY: 35,
    TABLE_OF_CONTENTS: 36,
    PARTICLE_STANDARD_GLOBAL_DATA: 37,
    ALTPIPE: 38,
    PLATFORM_INDEPENDENT_PEDS: 39,
    PATCH_MESH: 40,
    CHUNK_GROUP_START: 41,
    CHUNK_GROUP_END: 42,
    UV_ANIMATION_DICTIONARY: 43,
    COLL_TREE: 44,
    METRICS_PLG: 257,
    SPLINE_PLG: 258,
    STEREO_PLG: 259,
    VRML_PLG: 260,
    MORPH_PLG: 261,
    PVS_PLG: 262,
    MEMORY_LEAK_PLG: 263,
    ANIMATION_PLG: 264,
    GLOSS_PLG: 265,
    LOGO_PLG: 266,
    MEMORY_INFO_PLG: 267,
    RANDOM_PLG: 268,
    PNG_IMAGE_PLG: 269,
    BONE_PLG: 270,
    VRML_ANIM_PLG: 271,
    SKY_MIPMAP_VAL: 272,
    MRM_PLG: 273,
    LOD_ATOMIC_PLG: 274,
    ME_PLG: 275,
    LIGHTMAP_PLG: 276,
    REFINE_PLG: 277,
    SKIN_PLG: 278,
    LABEL_PLG: 279,
    PARTICLES_PLG: 280,
    GEOMTX_PLG: 281,
    SYNTH_CORE_PLG: 282,
    STQPP_PLG: 283,
    PART_PP_PLG: 284,
    COLLISION_PLG: 285,
    HANIM_PLG: 286,
    USER_DATA_PLG: 287,
    MATERIAL_EFFECTS_PLG: 288,
    PARTICLE_SYSTEM_PLG: 289,
    DELTA_MORPH_PLG: 290,
    PATCH_PLG: 291,
    TEAM_PLG: 292,
    CROWD_PP_PLG: 293,
    MIP_SPLIT_PLG: 294,
    ANISOTROPY_PLG: 295,
    GCN_MATERIAL_PLG: 297,
    GEOMETRIC_PVS_PLG: 298,
    XBOX_MATERIAL_PLG: 299,
    MULTI_TEXTURE_PLG: 300,
    CHAIN_PLG: 301,
    TOON_PLG: 302,
    PTANK_PLG: 303,
    PARTICLE_STANDARD_PLG: 304,
    PDS_PLG: 305,
    PRTADV_PLG: 306,
    NORMAL_MAP_PLG: 307,
    ADC_PLG: 308,
    UV_ANIMATION_PLG: 309,
    CHARACTER_SET_PLG: 384,
    NOHS_WORLD_PLG: 385,
    IMPORT_UTIL_PLG: 386,
    SLERP_PLG: 387,
    OPTIM_PLG: 388,
    TL_WORLD_PLG: 389,
    DATABASE_PLG: 390,
    RAYTRACE_PLG: 391,
    RAY_PLG: 392,
    LIBRARY_PLG: 393,
    PLG_2D: 400,
    TILE_RENDER_PLG: 401,
    JPEG_IMAGE_PLG: 402,
    TGA_IMAGE_PLG: 403,
    GIF_IMAGE_PLG: 404,
    QUAT_PLG: 405,
    SPLINE_PVS_PLG: 406,
    MIPMAP_PLG: 407,
    MIPMAPK_PLG: 408,
    FONT_2D: 409,
    INTERSECTION_PLG: 410,
    TIFF_IMAGE_PLG: 411,
    PICK_PLG: 412,
    BMP_IMAGE_PLG: 413,
    RAS_IMAGE_PLG: 414,
    SKIN_FX_PLG: 415,
    VCAT_PLG: 416,
    PATH_2D: 417,
    BRUSH_2D: 418,
    OBJECT_2D: 419,
    SHAPE_2D: 420,
    SCENE_2D: 421,
    PICK_REGION_2D: 422,
    OBJECT_STRING_2D: 423,
    ANIMATION_PLG_2D: 424,
    ANIMATION_2D: 425,
    KEYFRAME_2D: 432,
    MAESTRO_2D: 433,
    BARYCENTRIC: 434,
    PLATFORM_INDEPENDENT_TEXTURE_DICTIONARY_TK: 435,
    TOC_TK: 436,
    TPL_TK: 437,
    ALTPIPE_TK: 438,
    ANIMATION_TK: 439,
    SKIN_SPLIT_TOOKIT: 440,
    COMPRESSED_KEY_TK: 441,
    GEOMETRY_CONDITIONING_PLG: 442,
    WING_PLG: 443,
    GENERIC_PIPELINE_TK: 444,
    LIGHTMAP_CONVERSION_TK: 445,
    FILESYSTEM_PLG: 446,
    DICTIONARY_TK: 447,
    UV_ANIMATION_LINEAR: 448,
    UV_ANIMATION_PARAMETER: 449,
    BIN_MESH_PLG: 1294,
    NATIVE_DATA_PLG: 1296,
    ZMODELER_LOCK: 61982,
    ATOMIC_VISIBILITY_DISTANCE: 39055872,
    CLUMP_VISIBILITY_DISTANCE: 39055873,
    FRAME_VISIBILITY_DISTANCE: 39055874,
    PIPELINE_SET: 39056115,
    UNUSED_5: 39056116,
    TEXDICTIONARY_LINK: 39056117,
    SPECULAR_MATERIAL: 39056118,
    UNUSED_8: 39056119,
    EFFECT_2D: 39056120,
    EXTRA_VERT_COLOUR: 39056121,
    COLLISION_MODEL: 39056122,
    GTA_HANIM: 39056123,
    REFLECTION_MATERIAL: 39056124,
    BREAKABLE: 39056125,
    FRAME: 39056126,
    UNUSED_16: 39056127,

    1: &quot;STRUCT&quot;,
    2: &quot;STRING&quot;,
    3: &quot;EXTENSION&quot;,
    5: &quot;CAMERA&quot;,
    6: &quot;TEXTURE&quot;,
    7: &quot;MATERIAL&quot;,
    8: &quot;MATERIAL_LIST&quot;,
    9: &quot;ATOMIC_SECTION&quot;,
    10: &quot;PLANE_SECTION&quot;,
    11: &quot;WORLD&quot;,
    12: &quot;SPLINE&quot;,
    13: &quot;MATRIX&quot;,
    14: &quot;FRAME_LIST&quot;,
    15: &quot;GEOMETRY&quot;,
    16: &quot;CLUMP&quot;,
    18: &quot;LIGHT&quot;,
    19: &quot;UNICODE_STRING&quot;,
    20: &quot;ATOMIC&quot;,
    21: &quot;TEXTURE_NATIVE&quot;,
    22: &quot;TEXTURE_DICTIONARY&quot;,
    23: &quot;ANIMATION_DATABASE&quot;,
    24: &quot;IMAGE&quot;,
    25: &quot;SKIN_ANIMATION&quot;,
    26: &quot;GEOMETRY_LIST&quot;,
    27: &quot;ANIM_ANIMATION&quot;,
    28: &quot;TEAM&quot;,
    29: &quot;CROWD&quot;,
    30: &quot;DELTA_MORPH_ANIMATION&quot;,
    31: &quot;RIGHT_TO_RENDER&quot;,
    32: &quot;MULTITEXTURE_EFFECT_NATIVE&quot;,
    33: &quot;MULTITEXTURE_EFFECT_DICTIONARY&quot;,
    34: &quot;TEAM_DICTIONARY&quot;,
    35: &quot;PLATFORM_INDEPENDENT_TEXTURE_DICTIONARY&quot;,
    36: &quot;TABLE_OF_CONTENTS&quot;,
    37: &quot;PARTICLE_STANDARD_GLOBAL_DATA&quot;,
    38: &quot;ALTPIPE&quot;,
    39: &quot;PLATFORM_INDEPENDENT_PEDS&quot;,
    40: &quot;PATCH_MESH&quot;,
    41: &quot;CHUNK_GROUP_START&quot;,
    42: &quot;CHUNK_GROUP_END&quot;,
    43: &quot;UV_ANIMATION_DICTIONARY&quot;,
    44: &quot;COLL_TREE&quot;,
    257: &quot;METRICS_PLG&quot;,
    258: &quot;SPLINE_PLG&quot;,
    259: &quot;STEREO_PLG&quot;,
    260: &quot;VRML_PLG&quot;,
    261: &quot;MORPH_PLG&quot;,
    262: &quot;PVS_PLG&quot;,
    263: &quot;MEMORY_LEAK_PLG&quot;,
    264: &quot;ANIMATION_PLG&quot;,
    265: &quot;GLOSS_PLG&quot;,
    266: &quot;LOGO_PLG&quot;,
    267: &quot;MEMORY_INFO_PLG&quot;,
    268: &quot;RANDOM_PLG&quot;,
    269: &quot;PNG_IMAGE_PLG&quot;,
    270: &quot;BONE_PLG&quot;,
    271: &quot;VRML_ANIM_PLG&quot;,
    272: &quot;SKY_MIPMAP_VAL&quot;,
    273: &quot;MRM_PLG&quot;,
    274: &quot;LOD_ATOMIC_PLG&quot;,
    275: &quot;ME_PLG&quot;,
    276: &quot;LIGHTMAP_PLG&quot;,
    277: &quot;REFINE_PLG&quot;,
    278: &quot;SKIN_PLG&quot;,
    279: &quot;LABEL_PLG&quot;,
    280: &quot;PARTICLES_PLG&quot;,
    281: &quot;GEOMTX_PLG&quot;,
    282: &quot;SYNTH_CORE_PLG&quot;,
    283: &quot;STQPP_PLG&quot;,
    284: &quot;PART_PP_PLG&quot;,
    285: &quot;COLLISION_PLG&quot;,
    286: &quot;HANIM_PLG&quot;,
    287: &quot;USER_DATA_PLG&quot;,
    288: &quot;MATERIAL_EFFECTS_PLG&quot;,
    289: &quot;PARTICLE_SYSTEM_PLG&quot;,
    290: &quot;DELTA_MORPH_PLG&quot;,
    291: &quot;PATCH_PLG&quot;,
    292: &quot;TEAM_PLG&quot;,
    293: &quot;CROWD_PP_PLG&quot;,
    294: &quot;MIP_SPLIT_PLG&quot;,
    295: &quot;ANISOTROPY_PLG&quot;,
    297: &quot;GCN_MATERIAL_PLG&quot;,
    298: &quot;GEOMETRIC_PVS_PLG&quot;,
    299: &quot;XBOX_MATERIAL_PLG&quot;,
    300: &quot;MULTI_TEXTURE_PLG&quot;,
    301: &quot;CHAIN_PLG&quot;,
    302: &quot;TOON_PLG&quot;,
    303: &quot;PTANK_PLG&quot;,
    304: &quot;PARTICLE_STANDARD_PLG&quot;,
    305: &quot;PDS_PLG&quot;,
    306: &quot;PRTADV_PLG&quot;,
    307: &quot;NORMAL_MAP_PLG&quot;,
    308: &quot;ADC_PLG&quot;,
    309: &quot;UV_ANIMATION_PLG&quot;,
    384: &quot;CHARACTER_SET_PLG&quot;,
    385: &quot;NOHS_WORLD_PLG&quot;,
    386: &quot;IMPORT_UTIL_PLG&quot;,
    387: &quot;SLERP_PLG&quot;,
    388: &quot;OPTIM_PLG&quot;,
    389: &quot;TL_WORLD_PLG&quot;,
    390: &quot;DATABASE_PLG&quot;,
    391: &quot;RAYTRACE_PLG&quot;,
    392: &quot;RAY_PLG&quot;,
    393: &quot;LIBRARY_PLG&quot;,
    400: &quot;PLG_2D&quot;,
    401: &quot;TILE_RENDER_PLG&quot;,
    402: &quot;JPEG_IMAGE_PLG&quot;,
    403: &quot;TGA_IMAGE_PLG&quot;,
    404: &quot;GIF_IMAGE_PLG&quot;,
    405: &quot;QUAT_PLG&quot;,
    406: &quot;SPLINE_PVS_PLG&quot;,
    407: &quot;MIPMAP_PLG&quot;,
    408: &quot;MIPMAPK_PLG&quot;,
    409: &quot;FONT_2D&quot;,
    410: &quot;INTERSECTION_PLG&quot;,
    411: &quot;TIFF_IMAGE_PLG&quot;,
    412: &quot;PICK_PLG&quot;,
    413: &quot;BMP_IMAGE_PLG&quot;,
    414: &quot;RAS_IMAGE_PLG&quot;,
    415: &quot;SKIN_FX_PLG&quot;,
    416: &quot;VCAT_PLG&quot;,
    417: &quot;PATH_2D&quot;,
    418: &quot;BRUSH_2D&quot;,
    419: &quot;OBJECT_2D&quot;,
    420: &quot;SHAPE_2D&quot;,
    421: &quot;SCENE_2D&quot;,
    422: &quot;PICK_REGION_2D&quot;,
    423: &quot;OBJECT_STRING_2D&quot;,
    424: &quot;ANIMATION_PLG_2D&quot;,
    425: &quot;ANIMATION_2D&quot;,
    432: &quot;KEYFRAME_2D&quot;,
    433: &quot;MAESTRO_2D&quot;,
    434: &quot;BARYCENTRIC&quot;,
    435: &quot;PLATFORM_INDEPENDENT_TEXTURE_DICTIONARY_TK&quot;,
    436: &quot;TOC_TK&quot;,
    437: &quot;TPL_TK&quot;,
    438: &quot;ALTPIPE_TK&quot;,
    439: &quot;ANIMATION_TK&quot;,
    440: &quot;SKIN_SPLIT_TOOKIT&quot;,
    441: &quot;COMPRESSED_KEY_TK&quot;,
    442: &quot;GEOMETRY_CONDITIONING_PLG&quot;,
    443: &quot;WING_PLG&quot;,
    444: &quot;GENERIC_PIPELINE_TK&quot;,
    445: &quot;LIGHTMAP_CONVERSION_TK&quot;,
    446: &quot;FILESYSTEM_PLG&quot;,
    447: &quot;DICTIONARY_TK&quot;,
    448: &quot;UV_ANIMATION_LINEAR&quot;,
    449: &quot;UV_ANIMATION_PARAMETER&quot;,
    1294: &quot;BIN_MESH_PLG&quot;,
    1296: &quot;NATIVE_DATA_PLG&quot;,
    61982: &quot;ZMODELER_LOCK&quot;,
    39055872: &quot;ATOMIC_VISIBILITY_DISTANCE&quot;,
    39055873: &quot;CLUMP_VISIBILITY_DISTANCE&quot;,
    39055874: &quot;FRAME_VISIBILITY_DISTANCE&quot;,
    39056115: &quot;PIPELINE_SET&quot;,
    39056116: &quot;UNUSED_5&quot;,
    39056117: &quot;TEXDICTIONARY_LINK&quot;,
    39056118: &quot;SPECULAR_MATERIAL&quot;,
    39056119: &quot;UNUSED_8&quot;,
    39056120: &quot;EFFECT_2D&quot;,
    39056121: &quot;EXTRA_VERT_COLOUR&quot;,
    39056122: &quot;COLLISION_MODEL&quot;,
    39056123: &quot;GTA_HANIM&quot;,
    39056124: &quot;REFLECTION_MATERIAL&quot;,
    39056125: &quot;BREAKABLE&quot;,
    39056126: &quot;FRAME&quot;,
    39056127: &quot;UNUSED_16&quot;,
  });

  function RenderwareBinaryStream(_io, _parent, _root) {
    this._io = _io;
    this._parent = _parent;
    this._root = _root || this;

    this._read();
  }
  RenderwareBinaryStream.prototype._read = function() {
    this.code = this._io.readU4le();
    this.size = this._io.readU4le();
    this.version = this._io.readU4le();
    switch (this.code) {
    case RenderwareBinaryStream.Sections.TEXTURE_DICTIONARY:
      this._raw_body = this._io.readBytes(this.size);
      var _io__raw_body = new KaitaiStream(this._raw_body);
      this.body = new ListWithHeader(_io__raw_body, this, this._root);
      break;
    case RenderwareBinaryStream.Sections.GEOMETRY_LIST:
      this._raw_body = this._io.readBytes(this.size);
      var _io__raw_body = new KaitaiStream(this._raw_body);
      this.body = new ListWithHeader(_io__raw_body, this, this._root);
      break;
    case RenderwareBinaryStream.Sections.CLUMP:
      this._raw_body = this._io.readBytes(this.size);
      var _io__raw_body = new KaitaiStream(this._raw_body);
      this.body = new ListWithHeader(_io__raw_body, this, this._root);
      break;
    case RenderwareBinaryStream.Sections.TEXTURE_NATIVE:
      this._raw_body = this._io.readBytes(this.size);
      var _io__raw_body = new KaitaiStream(this._raw_body);
      this.body = new ListWithHeader(_io__raw_body, this, this._root);
      break;
    case RenderwareBinaryStream.Sections.FRAME_LIST:
      this._raw_body = this._io.readBytes(this.size);
      var _io__raw_body = new KaitaiStream(this._raw_body);
      this.body = new ListWithHeader(_io__raw_body, this, this._root);
      break;
    case RenderwareBinaryStream.Sections.GEOMETRY:
      this._raw_body = this._io.readBytes(this.size);
      var _io__raw_body = new KaitaiStream(this._raw_body);
      this.body = new ListWithHeader(_io__raw_body, this, this._root);
      break;
    default:
      this.body = this._io.readBytes(this.size);
      break;
    }
  }

  /**
   * @see {@link https://www.gtamodding.com/wiki/RpClump|Source}
   */

  var StructClump = RenderwareBinaryStream.StructClump = (function() {
    function StructClump(_io, _parent, _root) {
      this._io = _io;
      this._parent = _parent;
      this._root = _root || this;

      this._read();
    }
    StructClump.prototype._read = function() {
      this.numAtomics = this._io.readU4le();
      if (this._parent.version &gt;= 208896) {
        this.numLights = this._io.readU4le();
      }
      if (this._parent.version &gt;= 208896) {
        this.numCameras = this._io.readU4le();
      }
    }

    return StructClump;
  })();

  /**
   * @see {@link https://www.gtamodding.com/wiki/RpGeometry|Source}
   */

  var StructGeometry = RenderwareBinaryStream.StructGeometry = (function() {
    function StructGeometry(_io, _parent, _root) {
      this._io = _io;
      this._parent = _parent;
      this._root = _root || this;

      this._read();
    }
    StructGeometry.prototype._read = function() {
      this.format = this._io.readU4le();
      this.numTriangles = this._io.readU4le();
      this.numVertices = this._io.readU4le();
      this.numMorphTargets = this._io.readU4le();
      if (this._parent.version &lt; 212992) {
        this.surfProp = new SurfaceProperties(this._io, this, this._root);
      }
      if (!(this.isNative)) {
        this.geometry = new GeometryNonNative(this._io, this, this._root);
      }
      this.morphTargets = new Array(this.numMorphTargets);
      for (var i = 0; i &lt; this.numMorphTargets; i++) {
        this.morphTargets[i] = new MorphTarget(this._io, this, this._root);
      }
    }
    Object.defineProperty(StructGeometry.prototype, &#39;isTextured&#39;, {
      get: function() {
        if (this._m_isTextured !== undefined)
          return this._m_isTextured;
        this._m_isTextured = (this.format &amp; 4) != 0;
        return this._m_isTextured;
      }
    });
    Object.defineProperty(StructGeometry.prototype, &#39;isPrelit&#39;, {
      get: function() {
        if (this._m_isPrelit !== undefined)
          return this._m_isPrelit;
        this._m_isPrelit = (this.format &amp; 8) != 0;
        return this._m_isPrelit;
      }
    });
    Object.defineProperty(StructGeometry.prototype, &#39;isTextured2&#39;, {
      get: function() {
        if (this._m_isTextured2 !== undefined)
          return this._m_isTextured2;
        this._m_isTextured2 = (this.format &amp; 128) != 0;
        return this._m_isTextured2;
      }
    });
    Object.defineProperty(StructGeometry.prototype, &#39;isNative&#39;, {
      get: function() {
        if (this._m_isNative !== undefined)
          return this._m_isNative;
        this._m_isNative = (this.format &amp; 16777216) != 0;
        return this._m_isNative;
      }
    });

    return StructGeometry;
  })();

  var GeometryNonNative = RenderwareBinaryStream.GeometryNonNative = (function() {
    function GeometryNonNative(_io, _parent, _root) {
      this._io = _io;
      this._parent = _parent;
      this._root = _root || this;

      this._read();
    }
    GeometryNonNative.prototype._read = function() {
      if (this._parent.isPrelit) {
        this.prelitColors = new Array(this._parent.numVertices);
        for (var i = 0; i &lt; this._parent.numVertices; i++) {
          this.prelitColors[i] = new Rgba(this._io, this, this._root);
        }
      }
      if ( ((this._parent.isTextured) || (this._parent.isTextured2)) ) {
        this.texCoords = new Array(this._parent.numVertices);
        for (var i = 0; i &lt; this._parent.numVertices; i++) {
          this.texCoords[i] = new TexCoord(this._io, this, this._root);
        }
      }
      this.triangles = new Array(this._parent.numTriangles);
      for (var i = 0; i &lt; this._parent.numTriangles; i++) {
        this.triangles[i] = new Triangle(this._io, this, this._root);
      }
    }

    return GeometryNonNative;
  })();

  /**
   * @see {@link https://www.gtamodding.com/wiki/Geometry_List_(RW_Section)#Structure|Source}
   */

  var StructGeometryList = RenderwareBinaryStream.StructGeometryList = (function() {
    function StructGeometryList(_io, _parent, _root) {
      this._io = _io;
      this._parent = _parent;
      this._root = _root || this;

      this._read();
    }
    StructGeometryList.prototype._read = function() {
      this.numGeometries = this._io.readU4le();
    }

    return StructGeometryList;
  })();

  var Rgba = RenderwareBinaryStream.Rgba = (function() {
    function Rgba(_io, _parent, _root) {
      this._io = _io;
      this._parent = _parent;
      this._root = _root || this;

      this._read();
    }
    Rgba.prototype._read = function() {
      this.r = this._io.readU1();
      this.g = this._io.readU1();
      this.b = this._io.readU1();
      this.a = this._io.readU1();
    }

    return Rgba;
  })();

  var Sphere = RenderwareBinaryStream.Sphere = (function() {
    function Sphere(_io, _parent, _root) {
      this._io = _io;
      this._parent = _parent;
      this._root = _root || this;

      this._read();
    }
    Sphere.prototype._read = function() {
      this.x = this._io.readF4le();
      this.y = this._io.readF4le();
      this.z = this._io.readF4le();
      this.radius = this._io.readF4le();
    }

    return Sphere;
  })();

  var MorphTarget = RenderwareBinaryStream.MorphTarget = (function() {
    function MorphTarget(_io, _parent, _root) {
      this._io = _io;
      this._parent = _parent;
      this._root = _root || this;

      this._read();
    }
    MorphTarget.prototype._read = function() {
      this.boundingSphere = new Sphere(this._io, this, this._root);
      this.hasVertices = this._io.readU4le();
      this.hasNormals = this._io.readU4le();
      if (this.hasVertices != 0) {
        this.vertices = new Array(this._parent.numVertices);
        for (var i = 0; i &lt; this._parent.numVertices; i++) {
          this.vertices[i] = new Vector3d(this._io, this, this._root);
        }
      }
      if (this.hasNormals != 0) {
        this.normals = new Array(this._parent.numVertices);
        for (var i = 0; i &lt; this._parent.numVertices; i++) {
          this.normals[i] = new Vector3d(this._io, this, this._root);
        }
      }
    }

    return MorphTarget;
  })();

  /**
   * @see {@link https://www.gtamodding.com/wiki/RpGeometry|Source}
   */

  var SurfaceProperties = RenderwareBinaryStream.SurfaceProperties = (function() {
    function SurfaceProperties(_io, _parent, _root) {
      this._io = _io;
      this._parent = _parent;
      this._root = _root || this;

      this._read();
    }
    SurfaceProperties.prototype._read = function() {
      this.ambient = this._io.readF4le();
      this.specular = this._io.readF4le();
      this.diffuse = this._io.readF4le();
    }

    return SurfaceProperties;
  })();

  /**
   * @see {@link https://www.gtamodding.com/wiki/Frame_List_(RW_Section)#Structure|Source}
   */

  var StructFrameList = RenderwareBinaryStream.StructFrameList = (function() {
    function StructFrameList(_io, _parent, _root) {
      this._io = _io;
      this._parent = _parent;
      this._root = _root || this;

      this._read();
    }
    StructFrameList.prototype._read = function() {
      this.numFrames = this._io.readU4le();
      this.frames = new Array(this.numFrames);
      for (var i = 0; i &lt; this.numFrames; i++) {
        this.frames[i] = new Frame(this._io, this, this._root);
      }
    }

    return StructFrameList;
  })();

  /**
   * @see {@link https://www.gtamodding.com/wiki/Frame_List_(RW_Section)#Structure|Source}
   */

  var Matrix = RenderwareBinaryStream.Matrix = (function() {
    function Matrix(_io, _parent, _root) {
      this._io = _io;
      this._parent = _parent;
      this._root = _root || this;

      this._read();
    }
    Matrix.prototype._read = function() {
      this.entries = new Array(3);
      for (var i = 0; i &lt; 3; i++) {
        this.entries[i] = new Vector3d(this._io, this, this._root);
      }
    }

    return Matrix;
  })();

  /**
   * @see {@link https://www.gtamodding.com/wiki/Frame_List_(RW_Section)#Structure|Source}
   */

  var Vector3d = RenderwareBinaryStream.Vector3d = (function() {
    function Vector3d(_io, _parent, _root) {
      this._io = _io;
      this._parent = _parent;
      this._root = _root || this;

      this._read();
    }
    Vector3d.prototype._read = function() {
      this.x = this._io.readF4le();
      this.y = this._io.readF4le();
      this.z = this._io.readF4le();
    }

    return Vector3d;
  })();

  /**
   * Typical structure used by many data types in RenderWare binary
   * stream. Substream contains a list of binary stream entries,
   * first entry always has type &quot;struct&quot; and carries some specific
   * binary data it in, determined by the type of parent. All other
   * entries, beside the first one, are normal, self-describing
   * records.
   */

  var ListWithHeader = RenderwareBinaryStream.ListWithHeader = (function() {
    function ListWithHeader(_io, _parent, _root) {
      this._io = _io;
      this._parent = _parent;
      this._root = _root || this;

      this._read();
    }
    ListWithHeader.prototype._read = function() {
      this.code = this._io.ensureFixedContents([1, 0, 0, 0]);
      this.headerSize = this._io.readU4le();
      this.version = this._io.readU4le();
      switch (this._parent.code) {
      case RenderwareBinaryStream.Sections.TEXTURE_DICTIONARY:
        this._raw_header = this._io.readBytes(this.headerSize);
        var _io__raw_header = new KaitaiStream(this._raw_header);
        this.header = new StructTextureDictionary(_io__raw_header, this, this._root);
        break;
      case RenderwareBinaryStream.Sections.GEOMETRY_LIST:
        this._raw_header = this._io.readBytes(this.headerSize);
        var _io__raw_header = new KaitaiStream(this._raw_header);
        this.header = new StructGeometryList(_io__raw_header, this, this._root);
        break;
      case RenderwareBinaryStream.Sections.CLUMP:
        this._raw_header = this._io.readBytes(this.headerSize);
        var _io__raw_header = new KaitaiStream(this._raw_header);
        this.header = new StructClump(_io__raw_header, this, this._root);
        break;
      case RenderwareBinaryStream.Sections.FRAME_LIST:
        this._raw_header = this._io.readBytes(this.headerSize);
        var _io__raw_header = new KaitaiStream(this._raw_header);
        this.header = new StructFrameList(_io__raw_header, this, this._root);
        break;
      case RenderwareBinaryStream.Sections.GEOMETRY:
        this._raw_header = this._io.readBytes(this.headerSize);
        var _io__raw_header = new KaitaiStream(this._raw_header);
        this.header = new StructGeometry(_io__raw_header, this, this._root);
        break;
      default:
        this.header = this._io.readBytes(this.headerSize);
        break;
      }
      this.entries = [];
      var i = 0;
      while (!this._io.isEof()) {
        this.entries.push(new RenderwareBinaryStream(this._io, this, null));
        i++;
      }
    }

    return ListWithHeader;
  })();

  var Triangle = RenderwareBinaryStream.Triangle = (function() {
    function Triangle(_io, _parent, _root) {
      this._io = _io;
      this._parent = _parent;
      this._root = _root || this;

      this._read();
    }
    Triangle.prototype._read = function() {
      this.vertex2 = this._io.readU2le();
      this.vertex1 = this._io.readU2le();
      this.materialId = this._io.readU2le();
      this.vertex3 = this._io.readU2le();
    }

    return Triangle;
  })();

  /**
   * @see {@link https://www.gtamodding.com/wiki/Frame_List_(RW_Section)#Structure|Source}
   */

  var Frame = RenderwareBinaryStream.Frame = (function() {
    function Frame(_io, _parent, _root) {
      this._io = _io;
      this._parent = _parent;
      this._root = _root || this;

      this._read();
    }
    Frame.prototype._read = function() {
      this.rotationMatrix = new Matrix(this._io, this, this._root);
      this.position = new Vector3d(this._io, this, this._root);
      this.curFrameIdx = this._io.readS4le();
      this.matrixCreationFlags = this._io.readU4le();
    }

    return Frame;
  })();

  var TexCoord = RenderwareBinaryStream.TexCoord = (function() {
    function TexCoord(_io, _parent, _root) {
      this._io = _io;
      this._parent = _parent;
      this._root = _root || this;

      this._read();
    }
    TexCoord.prototype._read = function() {
      this.u = this._io.readF4le();
      this.v = this._io.readF4le();
    }

    return TexCoord;
  })();

  var StructTextureDictionary = RenderwareBinaryStream.StructTextureDictionary = (function() {
    function StructTextureDictionary(_io, _parent, _root) {
      this._io = _io;
      this._parent = _parent;
      this._root = _root || this;

      this._read();
    }
    StructTextureDictionary.prototype._read = function() {
      this.numTextures = this._io.readU4le();
    }

    return StructTextureDictionary;
  })();

  return RenderwareBinaryStream;
})();

// Export for amd environments
if (typeof define === &#39;function&#39; &amp;&amp; define.amd) {
  define(&#39;RenderwareBinaryStream&#39;, [], function() {
    return RenderwareBinaryStream;
  });
}

// Export for CommonJS
if (typeof module === &#39;object&#39; &amp;&amp; module &amp;&amp; module.exports) {
  module.exports = RenderwareBinaryStream;
}
</code></pre>
            
        </div>
        
    </div>
</section>

    <footer id="main-footer">
        <div class="container">
            &copy; 2015-2017 Kaitai Project and <a href="https://github.com/kaitai-io/kaitai_struct_formats/graphs/contributors">formats repo contributors</a>

            <h3>Contacts</h3>

            <div class="row">
                <div class="col-sm-4">
                    <i class="fa fa-fw fa-2x fa-github"></i> <a href="https://github.com/kaitai-io/kaitai_struct">GitHub</a>
                </div>
                <div class="col-sm-4">
                    <i class="fa fa-fw fa-2x fa-twitter"></i> <a href="https://twitter.com/kaitai_io">@kaitai_io</a>
                </div>
                <div class="col-sm-4">
                    Gitter: <a href="https://gitter.im/kaitai_struct/Lobby">kaitai_struct</a>
                </div>
            </div>
        </div>
    </footer>

  <script src="http://kaitai.io/js/jquery-1.12.3.min.js"></script>
  <script src="http://kaitai.io/js/bootstrap.min.js"></script>

  <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-76299550-1', 'auto');
      ga('send', 'pageview');
  </script>
</body>
</html>
